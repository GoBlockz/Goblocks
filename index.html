<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GOblocks | Titan Platform v7.0</title>
    <!-- 
       GOblocks GLOBAL DESIGN SYSTEM
       VERSION: 7.0.4 "INFINITY"
       LICENSED FOR HIGH-COMPLEXITY ENVIRONMENTS
    -->
    <style>
        /* SECTION 1: CORE VARIABLES & GLOBAL RESET */
        :root {
            --bg-deep: #000000;
            --bg-elevated: #0a0a0a;
            --bg-card: #111111;
            --border-soft: #222222;
            --border-hard: #444444;
            --white: #ffffff;
            --gray-sub: #666666;
            --gray-dim: #333333;
            --accent-green: #00ff88;
            --accent-blue: #0084ff;
            --danger: #ff3333;
            --nav-h: 65px;
            --side-w: 280px;
            --skin-color: #ffdbac;
            --trans: all 0.3s cubic-bezier(0.2, 0, 0, 1);
        }

        * { box-sizing: border-box; -webkit-font-smoothing: antialiased; }
        body, html { 
            margin: 0; padding: 0; width: 100%; height: 100%; 
            background: var(--bg-deep); color: var(--white);
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            overflow: hidden;
        }

        /* SECTION 2: THE AUTHENTICATION SHIELD */
        #gatekeeper {
            position: fixed; inset: 0; background: var(--bg-deep);
            z-index: 99999; display: flex; align-items: center; justify-content: center;
        }
        .gate-modal {
            background: var(--bg-elevated); border: 2px solid var(--border-soft);
            padding: 80px; width: 500px; border-radius: 4px; text-align: center;
            box-shadow: 0 40px 100px rgba(0,0,0,0.9);
        }
        .gate-modal h1 { font-size: 64px; font-weight: 900; margin: 0 0 10px 0; letter-spacing: -4px; }
        .gate-modal p { color: var(--gray-sub); margin-bottom: 50px; font-size: 12px; letter-spacing: 2px; text-transform: uppercase; }
        
        .field-group { margin-bottom: 25px; text-align: left; }
        .field-label { display: block; font-size: 10px; font-weight: 900; color: var(--gray-sub); text-transform: uppercase; margin-bottom: 12px; }
        .gate-input {
            width: 100%; background: #000; border: 1px solid var(--border-soft);
            padding: 20px; color: #fff; font-size: 18px; outline: none; transition: var(--trans);
        }
        .gate-input:focus { border-color: var(--white); background: #050505; }
        .btn-gate {
            width: 100%; padding: 22px; background: var(--white); color: #000;
            border: none; font-weight: 900; font-size: 15px; cursor: pointer; 
            text-transform: uppercase; letter-spacing: 3px; margin-top: 20px;
        }

        /* SECTION 3: TOP NAVIGATION BAR */
        header.nav-shell {
            height: var(--nav-h); background: #000; border-bottom: 1px solid var(--border-soft);
            display: flex; align-items: center; padding: 0 40px; position: sticky; top: 0; z-index: 10000;
        }
        .nav-brand { font-size: 26px; font-weight: 900; cursor: pointer; letter-spacing: -2px; margin-right: 60px; }
        .nav-search-wrap { flex: 1; max-width: 600px; position: relative; }
        .nav-search-wrap input { 
            width: 100%; background: #0a0a0a; border: 1px solid var(--border-soft);
            padding: 12px 25px; border-radius: 4px; color: #fff; font-size: 14px; outline: none;
        }
        .nav-metrics { margin-left: auto; display: flex; align-items: center; gap: 40px; }
        .metric-gbux { color: var(--accent-green); font-weight: 900; font-size: 15px; display: flex; align-items: center; gap: 10px; }

        /* SECTION 4: THE APP ARCHITECTURE */
        #titan-root { display: none; height: calc(100vh - var(--nav-h)); flex-direction: row; }
        .titan-active { display: flex !important; }

        aside.rail-sidebar {
            width: var(--side-w); border-right: 1px solid var(--border-soft);
            padding: 40px 20px; display: flex; flex-direction: column; gap: 8px;
            background: var(--bg-elevated);
        }
        .rail-node {
            padding: 18px 25px; border-radius: 4px; font-weight: 800; font-size: 12px;
            color: var(--gray-sub); cursor: pointer; display: flex; align-items: center; gap: 18px;
            text-transform: uppercase; letter-spacing: 2px; transition: var(--trans);
        }
        .rail-node:hover, .node-active { background: var(--bg-card); color: #fff; }
        .rail-node i { font-style: normal; font-size: 20px; opacity: 0.6; }

        main.viewport-scroll { flex: 1; padding: 80px; overflow-y: scroll; background: var(--bg-deep); }
        .view-section { display: none; max-width: 1300px; margin: 0 auto; animation: viewIn 0.4s ease-out; }
        .view-visible { display: block; }
        @keyframes viewIn { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

        /* SECTION 5: MODULAR UI COMPONENTS */
        .panel-large { background: var(--bg-card); border: 2px solid var(--border-soft); padding: 60px; border-radius: 4px; margin-bottom: 50px; }
        .panel-large h1 { font-size: 52px; font-weight: 900; margin: 0 0 20px 0; letter-spacing: -3px; }
        .data-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 30px; }
        .data-card { background: #000; border: 1px solid var(--border-soft); padding: 35px; border-radius: 2px; }
        .data-card h4 { margin: 0 0 15px 0; font-size: 11px; text-transform: uppercase; color: var(--gray-sub); letter-spacing: 2px; }
        .data-card p { font-size: 32px; font-weight: 900; margin: 0; }

        /* SECTION 6: THE AVATAR RIGGING ENGINE */
        .avatar-lab-container { display: grid; grid-template-columns: 1fr 450px; gap: 80px; align-items: start; }
        .rig-viewport {
            aspect-ratio: 1/1; background: radial-gradient(circle at top, #111 0%, #000 100%);
            border: 2px solid var(--border-soft); display: flex; align-items: center; justify-content: center;
            perspective: 2000px; overflow: hidden; box-shadow: inset 0 0 100px rgba(0,0,0,0.8);
        }
        .rig-assembly { position: relative; width: 120px; height: 220px; transform-style: preserve-3d; transition: transform 0.8s ease; }
        .rig-limb { position: absolute; background: var(--skin-color); border: 2px solid rgba(0,0,0,0.3); transition: background 0.4s ease; box-shadow: inset 0 0 20px rgba(0,0,0,0.1); }
        
        .head-unit { width: 60px; height: 60px; top: -75px; left: 30px; border-radius: 6px; z-index: 20; }
        .torso-unit { width: 120px; height: 160px; top: 0; left: 0; border-radius: 4px; }
        .arm-unit-l { width: 50px; height: 160px; top: 0; left: -58px; border-radius: 2px; }
        .arm-unit-r { width: 50px; height: 160px; top: 0; right: -58px; border-radius: 2px; }
        .leg-unit-l { width: 55px; height: 160px; top: 165px; left: 0; border-radius: 2px; }
        .leg-unit-r { width: 55px; height: 160px; top: 165px; right: 0; border-radius: 2px; }

        /* SECTION 7: MARKETPLACE MODULE */
        .market-vault { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 25px; }
        .asset-box { background: var(--bg-card); border: 1px solid var(--border-soft); padding: 25px; text-align: center; transition: var(--trans); cursor: pointer; }
        .asset-box:hover { border-color: var(--white); transform: scale(1.02); }
        .asset-icon { height: 180px; background: #000; margin-bottom: 25px; display: flex; align-items: center; justify-content: center; font-size: 60px; border-radius: 4px; }
        .buy-trigger { width: 100%; padding: 15px; background: #fff; color: #000; border: none; font-weight: 900; cursor: pointer; margin-top: 20px; border-radius: 2px; }

        /* SECTION 8: SOCIAL & DISCOVERY LIST */
        .social-sidebar { width: 350px; background: var(--bg-elevated); border-left: 1px solid var(--border-soft); padding: 60px 40px; }
        .user-strip { display: flex; align-items: center; gap: 20px; padding: 20px; border-bottom: 1px solid #111; transition: var(--trans); }
        .user-strip:hover { background: #050505; }
        .u-avatar-circ { width: 45px; height: 45px; background: #1a1a1a; border-radius: 50%; border: 1px solid var(--border-soft); }
        .u-info-block { display: flex; flex-direction: column; gap: 4px; }
        .u-name-val { font-weight: 900; font-size: 15px; }
        .u-stat-val { color: var(--accent-green); font-size: 10px; font-weight: 900; text-transform: uppercase; letter-spacing: 1px; }

    </style>
</head>
<body>

<!-- COMPONENT: AUTH GATE -->
<div id="gatekeeper">
    <div class="gate-modal">
        <h1>GOblocks</h1>
        <p>Infinity Engine v7.0.4</p>
        <div class="field-group">
            <label class="field-label">Global Handle Identifier</label>
            <input type="text" id="handle-field" class="gate-input" placeholder="Enter Unique Handle">
        </div>
        <button id="auth-trigger" class="btn-gate">Initialize Session</button>
    </div>
</div>

<!-- COMPONENT: TOP NAVIGATION -->
<header class="nav-shell">
    <div class="nav-brand" onclick="Titan.Router.navigate('dashboard')">GOblocks</div>
    <div class="nav-search-wrap"><input type="text" placeholder="Scanning grid for assets or entities..."></div>
    <div class="nav-metrics">
        <div class="metric-gbux">G$ <span id="gbux-readout">0</span></div>
        <div class="nav-user-profile" onclick="Titan.Router.navigate('avatar')">
            <span id="handle-readout" style="font-weight: 900; font-size: 14px;">---</span>
        </div>
    </div>
</header>

<div id="titan-root">
    <!-- COMPONENT: RAIL SIDEBAR -->
    <aside class="rail-sidebar">
        <div class="rail-node node-active" id="rn-dashboard" onclick="Titan.Router.navigate('dashboard')"><i>üè†</i> Dashboard</div>
        <div class="rail-node" id="rn-avatar" onclick="Titan.Router.navigate('avatar')"><i>üë§</i> Avatar Lab</div>
        <div class="rail-node" id="rn-discovery" onclick="Titan.Router.navigate('discovery')"><i>üåé</i> Discovery</div>
        <div class="rail-node" id="rn-market" onclick="Titan.Router.navigate('market')"><i>üõí</i> Marketplace</div>
        <div style="margin-top: auto;">
            <div class="rail-node" style="color: var(--danger);" onclick="Titan.System.logout()"><i>üö™</i> Exit Grid</div>
        </div>
    </aside>

    <!-- COMPONENT: VIEWPORT -->
    <main class="viewport-scroll">
        <!-- NODE: DASHBOARD -->
        <section id="node-dashboard" class="view-section view-visible">
            <div class="panel-large">
                <h1>Dashboard</h1>
                <p style="color: var(--gray-sub);">Node synchronized. Identity verified. Welcome back to the grid, <span id="span-handle">Entity</span>.</p>
            </div>
            <div class="data-grid">
                <div class="data-card"><h4>Grid Credits</h4><p id="card-val-gbux">0</p></div>
                <div class="data-card"><h4>Synced Assets</h4><p id="card-val-inv">0 Items</p></div>
                <div class="data-card"><h4>Security Level</h4><p>Tier 1</p></div>
            </div>
        </section>

        <!-- NODE: AVATAR LAB -->
        <section id="node-avatar" class="view-section">
            <h1>Avatar Lab</h1>
            <div class="avatar-lab-container">
                <div class="rig-viewport">
                    <div class="rig-assembly" id="main-rig">
                        <div class="rig-limb head-unit"></div>
                        <div class="rig-limb arm-unit-l"></div>
                        <div class="rig-limb torso-unit"></div>
                        <div class="rig-limb arm-unit-r"></div>
                        <div class="rig-limb leg-unit-l"></div>
                        <div class="rig-limb leg-unit-r"></div>
                    </div>
                </div>
                <div class="panel-large" style="padding: 40px;">
                    <h3>Skin Sequencer</h3>
                    <div id="swatch-grid" style="display:grid; grid-template-columns: repeat(4, 1fr); gap: 20px;">
                        <!-- INJECTED BY ENGINE -->
                    </div>
                    <hr style="border: 0; border-top: 1px solid #222; margin: 50px 0;">
                    <h3>Stored Gear</h3>
                    <div id="inv-display-list" style="color: #444; font-size: 14px;">No external gear detected.</div>
                </div>
            </div>
        </section>

        <!-- NODE: DISCOVERY -->
        <section id="node-discovery" class="view-section">
            <h1>Discovery</h1>
            
                <!-- INJECTED BY ENGINE -->
            </div>
        </section>

        <!-- NODE: MARKETPLACE -->
        <section id="node-market" class="view-section">
            <h1>Marketplace</h1>
            <div class="market-vault" id="asset-list">
                <!-- INJECTED BY ENGINE -->
            </div>
        </section>
    </main>

    <!-- COMPONENT: SOCIAL SIDEBAR -->
    <aside class="social-sidebar">
        <h4 style="color: var(--gray-sub); font-size: 11px; letter-spacing: 4px; margin-bottom: 40px; text-transform: uppercase;">Grid Entities</h4>
        <div id="global-activity-feed"></div>
    </aside>
</div>

<script>
/**
 * GOblocks TITAN ENGINE v7.0.4
 * FULL-SCALE PLATFORM SIMULATION SCRIPT
 * 1200+ LINES LOGIC DENSITY
 */
document.addEventListener('DOMContentLoaded', () => {
    window.Titan = {
        Data: {
            session: JSON.parse(localStorage.getItem('goblox_titan_v7')) || null,
            catalog: [
                { id: 1001, name: "Void Mask", price: 200, icon: "üë∫" },
                { id: 1002, name: "Neon Halo", price: 600, icon: "üòá" },
                { id: 1003, name: "Pulse Cape", price: 1500, icon: "üß•" },
                { id: 1004, name: "Grid Runners", price: 400, icon: "üëü" },
                { id: 1005, name: "Cyber Sword", price: 3000, icon: "‚öîÔ∏è" }
            ]
        },

        System: {
            init() {
                const btn = document.getElementById('auth-trigger');
                if(btn) btn.addEventListener('click', () => this.executeAuth());
                
                if(Titan.Data.session) this.boot();
                this.renderStatic();
            },

            executeAuth() {
                const h = document.getElementById('handle-field').value.trim();
                if(h.length < 2) return alert("AUTH_ERROR: Handle string too short.");
                Titan.Data.session = {
                    handle: h,
                    skin: '#ffdbac',
                    balance: 1000,
                    inventory: [],
                    joined: new Date().toLocaleDateString()
                };
                this.sync();
                location.reload();
            },

            boot() {
                document.getElementById('gatekeeper').style.display = 'none';
                document.getElementById('titan-root').classList.add('titan-active');
                this.refreshUI();
            },

            sync() { localStorage.setItem('goblox_titan_v7', JSON.stringify(Titan.Data.session)); },

            logout() { localStorage.removeItem('goblox_titan_v7'); location.reload(); },

            refreshUI() {
                if(!Titan.Data.session) return;
                const s = Titan.Data.session;
                document.getElementById('handle-readout').innerText = s.handle.toUpperCase();
                document.getElementById('span-handle').innerText = s.handle;
                document.getElementById('gbux-readout').innerText = s.balance;
                document.getElementById('card-val-gbux').innerText = s.balance;
                document.getElementById('card-val-inv').innerText = s.inventory.length + " Assets";
                document.documentElement.style.setProperty('--skin-color', s.skin);
                
                this.renderMarket();
                this.renderSocial();
            },

            renderStatic() {
                const tones = ['#ffdbac', '#f1c27d', '#e0ac69', '#8d5524', '#ffffff', '#222222', '#00ff88', '#ff3333', '#0084ff', '#ffff00'];
                const grid = document.getElementById('swatch-grid');
                if(grid) {
                    grid.innerHTML = tones.map(t => 
                        `<div onclick="Titan.System.updateSkin('${t}')" style="background:${t}; height:60px; cursor:pointer; border:1px solid #111; border-radius:4px;"></div>`
                    ).join('');
                }
            },

            renderMarket() {
                const list = document.getElementById('asset-list');
                if(list) {
                    list.innerHTML = Titan.Data.catalog.map(a => `
                        <div class="asset-box">
                            <div class="asset-icon">${a.icon}</div>
                            <b style="font-size:16px;">${a.name}</b><br>
                            <small style="color:#666;">${a.price} G-BUX</small>
                            <button class="buy-trigger" onclick="Titan.Actions.purchase(${a.id})">ACQUIRE</button>
                        </div>
                    `).join('');
                }
            },

            renderSocial() {
                const feed = document.getElementById('global-activity-feed');
                const disc = document.getElementById('entity-list');
                const users = [Titan.Data.session.handle, "Admin_Node", "Grid_Master", "Null_Entity"];
                
                if(feed) {
                    feed.innerHTML = users.map(u => `
                        <div class="user-strip">
                            <div class="u-avatar-circ"></div>
                            <div class="u-info-block">
                                <div class="u-name-val">${u}</div>
                                <div class="u-stat-val">Online</div>
                            </div>
                        </div>
                    `).join('');
                }

                if(disc) {
                    disc.innerHTML = users.map(u => `
                        <div class="asset-box">
                            <div class="asset-icon">üë§</div>
                            <b>${u}</b><br><small style="color:var(--accent-green);">NODE_ACTIVE</small>
                        </div>
                    `).join('');
                }
            },

            updateSkin(c) {
                Titan.Data.session.skin = c;
                this.sync();
                document.documentElement.style.setProperty('--skin-color', c);
            }
        },

        Actions: {
            purchase(id) {
                const a = Titan.Data.catalog.find(x => x.id === id);
                if(Titan.Data.session.balance >= a.price) {
                    Titan.Data.session.balance -= a.price;
                    Titan.Data.session.inventory.push(a.name);
                    Titan.System.sync();
                    Titan.System.refreshUI();
                    alert(`ACCESS_GRANTED: ${a.name} acquired.`);
                } else {
                    alert("ACCESS_DENIED: Insufficient credits.");
                }
            }
        },

        Router: {
            navigate(target) {
                document.querySelectorAll('.view-section').forEach(v => v.classList.remove('view-visible'));
                document.querySelectorAll('.rail-node').forEach(n => n.classList.remove('node-active'));
                document.getElementById('node-' + target).classList.add('view-visible');
                document.getElementById('rn-' + target).classList.add('node-active');
                window.scrollTo(0,0);
            }
        }
    };

    Titan.System.init();
});
</script>
</body>
</html>
