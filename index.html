<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GOblocks | Dashboard</title>
    <style>
        :root {
            --bg: #111216; /* True Roblox Dark */
            --card: #212229;
            --nav: #000000;
            --border: #393b4a;
            --accent: #ffffff;
            --blue: #0084ff;
            --skin: #ffdbac;
            --sidebar-w: 220px;
        }

        body {
            background-color: var(--bg);
            color: #fff;
            font-family: "HCo Gotham SSm", "Helvetica Neue", Helvetica, Arial, sans-serif;
            margin: 0; padding: 0; overflow-x: hidden;
        }

        /* --- MANDATORY AUTH WALL --- */
        #auth-overlay {
            position: fixed; inset: 0; background: #000; z-index: 10000;
            display: flex; align-items: center; justify-content: center;
        }
        .auth-card {
            background: var(--card); padding: 50px; border: 1px solid var(--border);
            width: 400px; border-radius: 8px; text-align: center;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
        }
        .auth-card h1 { font-size: 32px; font-weight: 900; margin-bottom: 30px; letter-spacing: -1px; }
        .auth-input {
            width: 100%; padding: 15px; margin-bottom: 20px; border-radius: 4px;
            background: #000; border: 1px solid var(--border); color: #fff; font-size: 16px;
        }
        .btn-blue {
            width: 100%; padding: 15px; background: var(--blue); color: #fff;
            border: none; border-radius: 4px; font-weight: 800; cursor: pointer;
        }

        /* --- GLOBAL NAVIGATION --- */
        .navbar {
            background: var(--nav); height: 50px; border-bottom: 1px solid var(--border);
            display: flex; align-items: center; padding: 0 25px; position: sticky; top: 0; z-index: 1000;
        }
        .logo { font-weight: 900; font-size: 22px; cursor: pointer; color: #fff; text-decoration: none; margin-right: 40px; }
        .nav-search {
            flex: 1; max-width: 400px; position: relative;
        }
        .nav-search input {
            width: 100%; background: #1a1b20; border: 1px solid var(--border);
            padding: 8px 12px; border-radius: 4px; color: #fff; font-size: 14px;
        }

        /* --- APP CONTENT LAYOUT --- */
        .main-wrapper { display: flex; min-height: calc(100vh - 50px); display: none; }
        .active-session { display: flex; }

        /* Left Sidebar */
        .sidebar {
            width: var(--sidebar-w); background: var(--bg); border-right: 1px solid var(--border);
            padding: 20px 10px; display: flex; flex-direction: column; gap: 5px;
        }
        .side-link {
            padding: 12px 15px; border-radius: 4px; font-weight: 600; font-size: 14px;
            color: #bdbebe; cursor: pointer; transition: 0.2s; display: flex; align-items: center;
        }
        .side-link:hover, .side-active { background: #393b4a; color: #fff; }
        .side-link i { margin-right: 12px; font-style: normal; }

        /* Content Area */
        .content-area { flex: 1; padding: 40px; }
        .page { display: none; animation: fadeIn 0.3s ease; }
        .page-active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* --- CARDS & PANELS --- */
        .panel { background: var(--card); border: 1px solid var(--border); border-radius: 8px; padding: 30px; margin-bottom: 30px; }
        .user-welcome { font-size: 28px; font-weight: 800; margin: 0 0 10px 0; }

        /* --- THE AVATAR (BLOCKY WITH LEGS) --- */
        .avatar-viewport {
            width: 300px; height: 350px; background: #000; border-radius: 8px;
            display: flex; align-items: center; justify-content: center; position: relative;
            border: 1px solid var(--border);
        }
        .character-rig { position: relative; width: 60px; height: 100px; transform: scale(1.5); }
        .char-head { position: absolute; top: -50px; left: 10px; width: 40px; height: 40px; background: var(--skin); border-radius: 4px; }
        .char-torso { position: absolute; top: 0; left: 0; width: 60px; height: 75px; background: var(--skin); border-radius: 2px; }
        .char-leg-l { position: absolute; top: 78px; left: 2px; width: 26px; height: 60px; background: var(--skin); }
        .char-leg-r { position: absolute; top: 78px; left: 32px; width: 26px; height: 60px; background: var(--skin); }

        /* --- COLOR PICKER --- */
        .skin-palette { display: grid; grid-template-columns: repeat(6, 1fr); gap: 10px; margin-top: 25px; }
        .swatch { height: 45px; border: 2px solid transparent; cursor: pointer; border-radius: 4px; transition: 0.1s; }
        .swatch:hover { border-color: #fff; }

        /* --- FRIENDS SIDEBAR (RIGHT) --- */
        .right-bar { width: 300px; border-left: 1px solid var(--border); padding: 40px 20px; }
        .friend-row { display: flex; align-items: center; padding: 10px 0; gap: 12px; }
        .friend-pic { width: 40px; height: 40px; background: #000; border-radius: 50%; border: 1px solid var(--border); }
    </style>
</head>
<body>

<!-- LOGIN / SIGN UP -->
<div id="auth-overlay">
    <div class="auth-card">
        <h1>GOblocks</h1>
        <input type="text" id="auth-user" class="auth-input" placeholder="Username">
        <button class="btn-blue" onclick="system.login()">SIGN UP / LOGIN</button>
        <p style="color: #666; font-size: 12px; margin-top: 20px;">By clicking, you join the monochrome grid.</p>
    </div>
</div>

<!-- TOP NAV -->
<nav class="navbar">
    <div class="logo" onclick="system.navigate('home')">GOblocks</div>
    <div class="nav-search">
        <input type="text" placeholder="Search Users or Items">
    </div>
    <div style="margin-left: auto; display: flex; align-items: center; gap: 20px;">
        <span style="font-weight: 800; color: #00ff00;">G$ 0</span>
        <span id="nav-user-name" style="font-weight: 700; font-size: 14px;"></span>
    </div>
</nav>

<div class="main-wrapper" id="app-shell">
    <!-- SIDEBAR -->
    <aside class="sidebar">
        <div class="side-link side-active" id="link-home" onclick="system.navigate('home')"><i>üè†</i> Home</div>
        <div class="side-link" id="link-avatar" onclick="system.navigate('avatar')"><i>üë§</i> Avatar</div>
        <div class="side-link"><i>üåé</i> Discover</div>
        <div class="side-link"><i>üõí</i> Avatar Shop</div>
        <div style="margin-top: auto;">
            <div class="side-link" style="color: #ff4444;" onclick="system.logout()"><i>üö™</i> Logout</div>
        </div>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="content-area">
        
        <!-- HOME PAGE -->
        <section id="home-page" class="page page-active">
            <h1 class="user-welcome">Home</h1>
            <div class="panel">
                <h2>Hello, <span id="hello-name"></span>!</h2>
                <p style="color: #bdbebe;">Welcome back to GOblocks. Your ID is verified and your skin tone is synced.</p>
            </div>
            <div class="panel">
                <h3>Global News</h3>
                <p>‚Ä¢ New blocky leg physics added to rig.</p>
                <p>‚Ä¢ System stability improved.</p>
            </div>
        </section>

        <!-- AVATAR PAGE -->
        <section id="avatar-page" class="page">
            <h1 class="user-welcome">Avatar Editor</h1>
            <div style="display: flex; gap: 40px;">
                <div class="avatar-viewport">
                    <div class="character-rig">
                        <div class="char-head"></div>
                        <div class="char-torso"></div>
                        <div class="char-leg-l"></div>
                        <div class="char-leg-r"></div>
                    </div>
                </div>
                <div style="flex: 1;">
                    <div class="panel">
                        <h3>Skin Tone Library</h3>
                        <p>Select your base identity color:</p>
                        <div class="skin-palette" id="skin-colors">
                            <!-- Injected Colors -->
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- FRIENDS BAR -->
    <aside class="right-bar">
        <h4 style="text-transform: uppercase; color: #666; font-size: 11px; letter-spacing: 1px; margin-bottom: 20px;">Newest Members</h4>
        <div id="member-list"></div>
    </aside>
</div>

<script>
    const system = {
        data: JSON.parse(localStorage.getItem('goblocks_v2')),

        init() {
            if (this.data) this.enter();
            this.buildSkinTones();
            this.buildMembers();
        },

        login() {
            const name = document.getElementById('auth-user').value;
            if (name.length < 3) return alert("Username must be 3+ characters.");
            this.data = { name, skin: '#ffdbac' };
            this.save();
            this.enter();
        },

        enter() {
            document.getElementById('auth-overlay').style.display = 'none';
            document.getElementById('app-shell').classList.add('active-session');
            document.getElementById('nav-user-name').innerText = this.data.name;
            document.getElementById('hello-name').innerText = this.data.name;
            this.applySkin(this.data.skin);
        },

        navigate(page) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('page-active'));
            document.querySelectorAll('.side-link').forEach(l => l.classList.remove('side-active'));
            
            document.getElementById(page + '-page').classList.add('page-active');
            document.getElementById('link-' + page).classList.add('side-active');
        },

        buildSkinTones() {
            const colors = ['#ffdbac', '#f1c27d', '#e0ac69', '#8d5524', '#ffffff', '#333333', '#111111', '#0084ff', '#ff0000', '#00ff00', '#ffff00', '#ff00ff'];
            const container = document.getElementById('skin-colors');
            colors.forEach(c => {
                const s = document.createElement('div');
                s.className = 'swatch';
                s.style.background = c;
                s.onclick = () => this.applySkin(c);
                container.appendChild(s);
            });
        },

        applySkin(c) {
            this.data.skin = c;
            this.save();
            document.documentElement.style.setProperty('--skin', c);
        },

        save() { localStorage.setItem('goblocks_v2', JSON.stringify(this.data)); },

        logout() { localStorage.removeItem('goblocks_v2'); location.reload(); },

        buildMembers() {
            const m = ['System_Bot', 'Vortex', 'MonoMan', 'GridGhost', 'Admin_1'];
            document.getElementById('member-list').innerHTML = m.map(name => `
                <div class="friend-row">
                    <div class="friend-pic"></div>
                    <span style="font-size:14px; font-weight:700;">${name}</span>
                </div>
            `).join('');
        }
    };

    system.init();
</script>

</body>
</html>

